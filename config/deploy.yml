# Name of your honeypot service
service: my-honeypot
primary_role: honeypot

# Docker image to use (ensure ARM64 compatibility for Raspberry Pi)
image: neophob/fw-honeypot

# Servers where Dionaea should be deployed
servers:
  honeypot:
    - KAMAL_HOST

ssh:
  user: ubuntu           # your SSH user
  port: 22              # your SSH port

# No web proxy needed for Dionaea
proxy:
  ssl: false
  app_port: 8080
  healthcheck:
    path: /up

# Optional: registry credentials if using a private registry
registry:
  server: ghcr.io
  username: neophob
  password:
     - KAMAL_REGISTRY_PASSWORD

# Builder setup (optional, mostly for local Docker builds)
builder:
  arch: amd64
  # args: {}   # build args if needed

# Inject environment variables into the container (optional)
env:
  DEBUG: "*"

# Persistent volumes for logs/malware captures
volumes:
  - "./data:/opt/honeypot"

# Aliases to make SSHing/logging easier (optional)
aliases:
  shell: honeypot exec --interactive --reuse "bash"
