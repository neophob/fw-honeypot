# Name of your honeypot service
service: my-honeypot
primary_role: honeypot

# Docker image to use (ensure ARM64 compatibility for Raspberry Pi)
image: neophob/fw-honeypot

# Servers where the app should be deployed
servers:
  honeypot:
    hosts:
    - 51.195.102.237
    proxy: false
    options:
      publish:
        - "23:3323"
        - "25:3325"
        - "445:445"
        - "3306:3306"
        - "22:3322"

ssh:
  user: ubuntu           # your SSH user
  port: 22222            # your SSH port

# Optional: registry credentials if using a private registry
registry:
  server: ghcr.io
  username: neophob
  password:
     - KAMAL_REGISTRY_PASSWORD

# Builder setup (optional, mostly for local Docker builds)
builder:
  arch: amd64
  # args: {}   # build args if needed

# Inject environment variables into the container (optional)
env:
  DEBUG: "*"
  LOG_DEST: "/opt/honeypot/dump.txt"

# Persistent volumes for logs/malware captures
volumes:
  - "./data:/opt/honeypot"

# Aliases to make SSHing/logging easier (optional)
aliases:
  shell: honeypot exec --interactive --reuse "bash"
